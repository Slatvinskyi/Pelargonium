<script>
		import {products, cart} from "./cart.js";
	
	const addToCart = (product) => {
		for(let item of $cart) {
				if(item.id === product.id) {
					product.quantity += 1
					$cart = $cart;
					return;
				}
		}
		$cart = [...$cart, product]
	}
</script>

<div class="grid product-list justify-items-center ">
	{#each $products as product}
	<div>
		<div class="bg-center bg-no-repeat bg-contain image h-96 w-96 rounded-xl" style="background-image: url({product.image})"></div>
	<h4>{product.name}</h4>
	<p>{product.price} UAH</p>
	<button class="flex items-center justify-center w-1/2 text-white bg-black rounded-md" on:click={() => addToCart(product)}>Add to cart</button>
	</div>
	{/each}
</div>

